<!DOCTYPE html>

<html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>The Architecture of Agency: A Unified Field Theory</title> <script src="https://cdn.tailwindcss.com"></script> <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet"> <style> body { font-family: 'Inter', sans-serif; background-color: #0f172a; /* Slate 900 / color: #f8fafc; / Slate 50 / overflow-x: hidden; } .mono-font { font-family: 'JetBrains Mono', monospace; } .glass-panel { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(148, 163, 184, 0.1); box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5); } .nav-item.active { border-left: 3px solid #22d3ee; background: linear-gradient(90deg, rgba(34, 211, 238, 0.1) 0%, transparent 100%); color: #22d3ee; } .glow-text { text-shadow: 0 0 10px rgba(34, 211, 238, 0.5); } .chart-container { position: relative; width: 100%; max-width: 600px; margin: 0 auto; height: 350px; max-height: 400px; } .step-connector { position: absolute; left: 20px; top: 24px; bottom: -24px; width: 2px; background: #334155; z-index: 0; } .step-item:last-child .step-connector { display: none; } / Custom Scrollbar */ ::-webkit-scrollbar { width: 8px; } ::-webkit-scrollbar-track { background: #0f172a; } ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; } ::-webkit-scrollbar-thumb:hover { background: #475569; } .holographic-card { transition: all 0.3s ease; } .holographic-card:hover { transform: translateY(-2px); box-shadow: 0 10px 40px -10px rgba(34, 211, 238, 0.2); border-color: rgba(34, 211, 238, 0.3); } </style> </head> <body class="antialiased selection:bg-cyan-500 selection:text-white">

<!-- App Container -->
<div class="flex flex-col md:flex-row min-h-screen">

    <!-- Navigation Sidebar -->
    <nav class="w-full md:w-64 bg-slate-900 border-r border-slate-800 flex-shrink-0 fixed md:sticky top-0 z-50 h-16 md:h-screen flex md:flex-col justify-between items-center md:items-stretch px-4 md:py-8">
        <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded bg-cyan-500 flex items-center justify-center font-bold text-slate-900">A</div>
            <div class="flex flex-col">
                <span class="font-bold text-sm tracking-widest text-cyan-400">ARCHITECT</span>
                <span class="text-[10px] text-slate-500 uppercase">Unified Agency Theory</span>
            </div>
        </div>
        
        <!-- Mobile Menu Toggle (Hidden on Desktop) -->
        <button id="menu-btn" class="md:hidden text-slate-400 hover:text-white">
            <span class="text-2xl">&#9776;</span>
        </button>

        <!-- Nav Links -->
        <div id="nav-links" class="hidden md:flex flex-col gap-2 mt-8 w-full absolute md:relative top-16 md:top-0 left-0 bg-slate-900 p-4 md:p-0 border-b md:border-0 border-slate-800">
            <button onclick="navigate('dashboard')" class="nav-item active text-left px-4 py-3 text-sm font-medium text-slate-400 hover:text-slate-200 transition-all rounded">
                1. The Convergence
            </button>
            <button onclick="navigate('semiosphere')" class="nav-item text-left px-4 py-3 text-sm font-medium text-slate-400 hover:text-slate-200 transition-all rounded">
                2. Semiosphere & Signals
            </button>
            <button onclick="navigate('geometry')" class="nav-item text-left px-4 py-3 text-sm font-medium text-slate-400 hover:text-slate-200 transition-all rounded">
                3. Geometric Causal Layer
            </button>
            <button onclick="navigate('cib')" class="nav-item text-left px-4 py-3 text-sm font-medium text-slate-400 hover:text-slate-200 transition-all rounded">
                4. Agnostic Life Detection
            </button>
            <button onclick="navigate('thermodynamics')" class="nav-item text-left px-4 py-3 text-sm font-medium text-slate-400 hover:text-slate-200 transition-all rounded">
                5. Thermodynamic Ethics
            </button>
        </div>

        <div class="hidden md:block mt-auto pt-8 border-t border-slate-800">
            <div class="text-xs text-slate-500">
                <p class="mb-2">Data Source Active:</p>
                <div class="flex items-center gap-2 mb-1"><div class="w-1.5 h-1.5 rounded-full bg-green-500"></div> Agnostic Life Detection</div>
                <div class="flex items-center gap-2 mb-1"><div class="w-1.5 h-1.5 rounded-full bg-green-500"></div> Agential Semiosphere</div>
                <div class="flex items-center gap-2"><div class="w-1.5 h-1.5 rounded-full bg-green-500"></div> Thermodynamics of Agency</div>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-1 p-4 md:p-8 lg:p-12 mt-16 md:mt-0 overflow-y-auto">
        
        <!-- SECTION 1: DASHBOARD / OVERVIEW -->
        <section id="dashboard" class="space-y-8 animate-fade-in">
            <header class="max-w-4xl">
                <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight mb-4 bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600 bg-clip-text text-transparent">
                    The Architecture of Agency
                </h1>
                <p class="text-lg text-slate-400 leading-relaxed max-w-2xl">
                    A unified framework synthesizing <span class="text-cyan-400">Biosemiotics</span>, <span class="text-purple-400">Geometric Topology</span>, and <span class="text-yellow-400">Thermodynamics</span> to explain the origin of life, the physics of meaning, and the nature of the observer.
                </p>
            </header>

            <!-- Key Metrics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="glass-panel p-6 rounded-xl holographic-card">
                    <div class="text-xs text-cyan-500 font-bold uppercase tracking-wider mb-2">Primary Metric</div>
                    <div class="text-2xl font-bold text-white mb-1">Coherent Info Bit</div>
                    <div class="text-sm text-slate-400">The fundamental unit of <span class="text-white">agential structure</span>, distinct from Shannon entropy.</div>
                </div>
                <div class="glass-panel p-6 rounded-xl holographic-card">
                    <div class="text-xs text-purple-500 font-bold uppercase tracking-wider mb-2">Geometric Substrate</div>
                    <div class="text-2xl font-bold text-white mb-1">Invariant Set</div>
                    <div class="text-sm text-slate-400">Fractal topology (Palmer/Maldacena link) serving as the <span class="text-white">container for agency</span>.</div>
                </div>
                <div class="glass-panel p-6 rounded-xl holographic-card">
                    <div class="text-xs text-yellow-500 font-bold uppercase tracking-wider mb-2">Operational Mode</div>
                    <div class="text-2xl font-bold text-white mb-1">Meta-Constructor</div>
                    <div class="text-sm text-slate-400">The agent as a self-editing system using <span class="text-white">formalisms</span> to shape reality.</div>
                </div>
            </div>

            <!-- Conceptual Synthesis Text -->
            <div class="glass-panel p-8 rounded-xl border-l-4 border-cyan-500">
                <h3 class="text-xl font-bold text-white mb-4">The Synthesis: Resolving the Epistemological Crisis</h3>
                <p class="text-slate-300 mb-4 leading-relaxed">
                    Traditional science suffers from the "Cartesian Cut," separating the physics of matter from the subjective experience of mind. This research proposes a unified physics where <strong>Agency</strong> is not a ghost in the machine, but a specialized, high-energy region of "Logical Depth."
                </p>
                <p class="text-slate-300 leading-relaxed">
                    By integrating <strong>Thomas Sebeok's Modeling Systems</strong> (Semiotics) with <strong>Assembly Theory</strong> (Life Detection) and <strong>Invariant Set Theory</strong> (Geometry), we reveal a universe where "Reading" is a thermodynamic act that reconfigures the brain's topology, allowing the "Holographic" projection of meaning onto the material world.
                </p>
            </div>
        </section>

        <!-- SECTION 2: SEMIOSPHERE -->
        <section id="semiosphere" class="space-y-8 hidden animate-fade-in">
            <header>
                <h2 class="text-3xl font-bold text-white mb-2">The Agential Semiosphere</h2>
                <p class="text-slate-400 max-w-2xl">
                    Mapping the evolution from raw physical signal to complex symbolic architecture. This hierarchy creates the "Umwelt"â€”the subjective world-model of the organism.
                </p>
            </header>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Chart Column -->
                <div class="glass-panel p-6 rounded-xl">
                    <h3 class="text-sm font-bold text-slate-400 uppercase tracking-widest mb-6">Modeling Systems Hierarchy</h3>
                    <div class="chart-container">
                        <canvas id="semiosphereChart"></canvas>
                    </div>
                    <div class="mt-4 text-center text-xs text-slate-500">
                        *Click the rings to explore the Semiotic Layers*
                    </div>
                </div>

                <!-- Interactive Ladder -->
                <div class="glass-panel p-6 rounded-xl overflow-hidden">
                    <h3 class="text-sm font-bold text-slate-400 uppercase tracking-widest mb-6">The Ladder of Interpretation</h3>
                    
                    <div class="space-y-0 relative pl-2">
                        <!-- Step 1 -->
                        <div class="step-item relative pl-8 pb-8 group cursor-pointer" onclick="highlightStep(1)">
                            <div class="step-connector"></div>
                            <div class="absolute left-0 top-0 w-10 h-10 rounded-full bg-slate-800 border-2 border-slate-600 group-hover:border-cyan-500 group-hover:text-cyan-500 text-slate-400 flex items-center justify-center font-bold transition-all z-10">1</div>
                            <h4 class="text-lg font-bold text-white group-hover:text-cyan-400 transition-colors">Alpha-Mode (Signal)</h4>
                            <p class="text-sm text-slate-400 mt-1">Raw sensory input. The physical impact of photons or molecules. "Primary Modeling System."</p>
                        </div>

                        <!-- Step 2 -->
                        <div class="step-item relative pl-8 pb-8 group cursor-pointer" onclick="highlightStep(2)">
                            <div class="step-connector"></div>
                            <div class="absolute left-0 top-0 w-10 h-10 rounded-full bg-slate-800 border-2 border-slate-600 group-hover:border-purple-500 group-hover:text-purple-500 text-slate-400 flex items-center justify-center font-bold transition-all z-10">2</div>
                            <h4 class="text-lg font-bold text-white group-hover:text-purple-400 transition-colors">Beta-Mode (Index/Icon)</h4>
                            <p class="text-sm text-slate-400 mt-1">Pattern recognition. Connecting the signal to a source. The "Umwelt" begins to form.</p>
                        </div>

                        <!-- Step 3 -->
                        <div class="step-item relative pl-8 group cursor-pointer" onclick="highlightStep(3)">
                            <div class="step-connector"></div>
                            <div class="absolute left-0 top-0 w-10 h-10 rounded-full bg-slate-800 border-2 border-slate-600 group-hover:border-yellow-500 group-hover:text-yellow-500 text-slate-400 flex items-center justify-center font-bold transition-all z-10">3</div>
                            <h4 class="text-lg font-bold text-white group-hover:text-yellow-400 transition-colors">Tertiary Mode (Symbol/Syntax)</h4>
                            <p class="text-sm text-slate-400 mt-1">Abstract formalisms. Language, Math, Code. The "Exo-Somatic" layer that allows for Downward Causation.</p>
                        </div>
                    </div>

                    <!-- Dynamic Description Box -->
                    <div id="ladder-detail" class="mt-6 p-4 bg-slate-900/50 rounded border border-slate-700 text-sm text-slate-300">
                        Select a level above to see its Bio-Semiotic function.
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: GEOMETRIC & BRAIN -->
        <section id="geometry" class="space-y-8 hidden animate-fade-in">
            <header>
                <h2 class="text-3xl font-bold text-white mb-2">Geometric Architecture & The Reader's Brain</h2>
                <p class="text-slate-400 max-w-2xl">
                    Exploring the causal link between "Reading" (Literacy), Brain Plasticity (Neuronal Recycling), and the Geometric/Holographic structure of reality.
                </p>
            </header>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Concept Card 1: Neuronal Recycling -->
                <div class="glass-panel p-6 rounded-xl border-t-4 border-cyan-500">
                    <div class="h-12 w-12 bg-cyan-900/30 rounded-full flex items-center justify-center mb-4 text-cyan-400 text-2xl">ðŸ§ </div>
                    <h3 class="text-xl font-bold text-white mb-2">Neuronal Recycling</h3>
                    <p class="text-sm text-slate-400 mb-4">
                        Cultural evolution repurposes ancient biological hardware. The visual word form area (VWFA) is "recycled" to process symbols instead of landscapes.
                    </p>
                    <div class="text-xs bg-slate-800 p-3 rounded text-cyan-200">
                        "Literacy acts as a Tertiary Modeling System that physically rewires the neocortex."
                    </div>
                </div>

                <!-- Concept Card 2: The Holographic Link -->
                <div class="glass-panel p-6 rounded-xl border-t-4 border-purple-500">
                    <div class="h-12 w-12 bg-purple-900/30 rounded-full flex items-center justify-center mb-4 text-purple-400 text-2xl">ðŸŒŒ</div>
                    <h3 class="text-xl font-bold text-white mb-2">Holographic Manifold</h3>
                    <p class="text-sm text-slate-400 mb-4">
                        Drawing on Invariant Set Theory (Palmer) and the Holographic Principle ('t Hooft/Susskind), the "Agential Manifold" is the fractal geometry where these symbols "live."
                    </p>
                    <div class="text-xs bg-slate-800 p-3 rounded text-purple-200">
                        "Information (CIB) on the boundary defines the bulk reality of the agent."
                    </div>
                </div>

                <!-- Concept Card 3: Downward Causation -->
                <div class="glass-panel p-6 rounded-xl border-t-4 border-yellow-500">
                    <div class="h-12 w-12 bg-yellow-900/30 rounded-full flex items-center justify-center mb-4 text-yellow-400 text-2xl">âš¡</div>
                    <h3 class="text-xl font-bold text-white mb-2">Downward Causation</h3>
                    <p class="text-sm text-slate-400 mb-4">
                        The "Meta-Constructor" uses high-level formalisms (Math/Ethics) to constrain low-level physics. The mind edits the brain's state space.
                    </p>
                    <div class="text-xs bg-slate-800 p-3 rounded text-yellow-200">
                        "The agent is not a passive observer but a self-editing geometer."
                    </div>
                </div>
            </div>

            <!-- Interactive Simulation of "Downward Causation" -->
            <div class="glass-panel p-8 rounded-xl">
                <h3 class="text-lg font-bold text-white mb-4">Simulation: The Meta-Constructor Protocol</h3>
                <div class="flex flex-col md:flex-row gap-8 items-center">
                    <div class="w-full md:w-1/2 space-y-4">
                        <p class="text-sm text-slate-400">
                            Adjust the "Formalism Level" (Reading/Education/Code) to see how it affects "Agential Control" over the environment (Entropy reduction).
                        </p>
                        <div>
                            <label class="text-xs font-bold text-cyan-400 uppercase">Formalism Density (Literacy/Logic)</label>
                            <input type="range" id="formalismInput" min="0" max="100" value="50" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer mt-2 accent-cyan-500">
                        </div>
                        <div class="flex justify-between text-xs text-slate-500">
                            <span>Alpha-Mode (Raw Feel)</span>
                            <span>Tertiary-Mode (Deep Logic)</span>
                        </div>
                    </div>
                    <div class="w-full md:w-1/2 flex justify-center">
                        <!-- CSS-based Visualization of Order/Chaos -->
                        <div id="manifold-visual" class="w-48 h-48 rounded-full border-4 border-slate-700 flex items-center justify-center relative overflow-hidden transition-all duration-700">
                            <div id="chaos-particles" class="absolute inset-0 opacity-50"></div>
                            <div id="core-structure" class="w-16 h-16 bg-cyan-500 rounded blur-md transition-all duration-500"></div>
                            <div class="absolute text-white font-mono font-bold z-10 mix-blend-overlay">AGENT</div>
                        </div>
                    </div>
                </div>
                <div id="simulation-readout" class="mt-4 text-center font-mono text-cyan-400 text-sm">
                    Agential State: Balanced
                </div>
            </div>
        </section>

        <!-- SECTION 4: AGNOSTIC LIFE DETECTION (CIB) -->
        <section id="cib" class="space-y-8 hidden animate-fade-in">
            <header>
                <h2 class="text-3xl font-bold text-white mb-2">Agnostic Life Detection: The CIB Metric</h2>
                <p class="text-slate-400 max-w-2xl">
                    Quantifying the boundary between "Physics" and "Biology" using Assembly Theory. The Coherent Information Bit (CIB) is the smoking gun of agency.
                </p>
            </header>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Text Context -->
                <div class="space-y-4">
                    <div class="glass-panel p-6 rounded-xl">
                        <h3 class="text-lg font-bold text-white mb-2">The Threshold of Life</h3>
                        <p class="text-sm text-slate-300 leading-relaxed mb-4">
                            "Assembly Theory" posits that molecules with high complexity (requiring many specific steps to construct) cannot form abundantly by chance. This creates a quantifiable threshold.
                        </p>
                        <ul class="space-y-2 text-sm text-slate-400">
                            <li class="flex items-center gap-2"><span class="text-red-400">âœ–</span> <strong>Low MAI (< 15):</strong> Abiotic. Random chemistry.</li>
                            <li class="flex items-center gap-2"><span class="text-green-400">âœ”</span> <strong>High MAI (> 15):</strong> Agential. Requires an information blueprint.</li>
                        </ul>
                    </div>
                    
                    <div class="glass-panel p-6 rounded-xl">
                        <h3 class="text-lg font-bold text-white mb-2">The "Ladder of Detection"</h3>
                        <p class="text-sm text-slate-300">
                            NASA's framework (Neveu et al.) moves from detecting simple ingredients (Water) to detecting <strong>processes</strong> (Disequilibrium) and finally <strong>Information</strong> (CIB).
                        </p>
                    </div>
                </div>

                <!-- Chart Container -->
                <div class="glass-panel p-6 rounded-xl">
                    <h3 class="text-sm font-bold text-slate-400 uppercase tracking-widest mb-4">Molecular Assembly Index (MAI) Probability</h3>
                    <div class="chart-container">
                        <canvas id="cibChart"></canvas>
                    </div>
                    <div class="mt-4 p-3 bg-slate-900/50 border border-slate-700 rounded text-xs text-center text-slate-400">
                        The "Wall of Probability" exists at ~15 assembly steps. Beyond this, a "Constructor" (Life) is required.
                    </div>
                </div>
            </div>
        </section>

         <!-- SECTION 5: THERMODYNAMICS & ETHICS -->
         <section id="thermodynamics" class="space-y-8 hidden animate-fade-in">
            <header>
                <h2 class="text-3xl font-bold text-white mb-2">Thermodynamics of Agency</h2>
                <p class="text-slate-400 max-w-2xl">
                    High-level agency (Logic, Ethics, Culture) is metabolically expensive. We must balance "Agential Entropy" with "Logical Depth."
                </p>
            </header>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="glass-panel p-6 rounded-xl">
                    <h3 class="text-sm font-bold text-slate-400 uppercase tracking-widest mb-4">The Sapolsky Limit</h3>
                    <div class="chart-container">
                        <canvas id="entropyChart"></canvas>
                    </div>
                    <p class="mt-4 text-xs text-slate-400 italic text-center">
                        "Moral failure is often a thermodynamic failure caused by environmental entropy (stress)."
                    </p>
                </div>

                <div class="space-y-4">
                    <div class="glass-panel p-6 rounded-xl border-l-4 border-yellow-500">
                        <h3 class="text-lg font-bold text-white mb-2">Exo-Constructors</h3>
                        <p class="text-sm text-slate-300">
                            To survive the "Morphic Fidelity Penalty" (the cost of running high-level logic on stone-age brains), we build institutions (Laws, Religion, AI).
                        </p>
                        <p class="text-sm text-slate-300 mt-2">
                            These "Exo-Constructors" offload the computational cost of goodness, stabilizing the Agential Semiosphere.
                        </p>
                    </div>

                    <div class="glass-panel p-6 rounded-xl">
                        <h3 class="text-lg font-bold text-white mb-2">The WEIRD Psychology Connection</h3>
                        <p class="text-sm text-slate-300">
                            "WEIRD" (Western, Educated, Industrialized, Rich, Democratic) psychology represents a specific thermodynamic configuration: High Individual Logic / High Agential Entropy.
                        </p>
                    </div>
                </div>
            </div>
        </section>

    </main>
</div>

<!-- JavaScript Implementation -->
<script>
    // --- State Management ---
    const state = {
        currentSection: 'dashboard',
        formalismLevel: 50,
        chartsInitialized: false
    };

    // --- Navigation Logic ---
    function navigate(sectionId) {
        // Update UI State
        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
        document.querySelectorAll(`button[onclick="navigate('${sectionId}')"]`).forEach(el => el.classList.add('active'));

        // Hide all sections
        const sections = ['dashboard', 'semiosphere', 'geometry', 'cib', 'thermodynamics'];
        sections.forEach(id => {
            document.getElementById(id).classList.add('hidden');
        });

        // Show target section
        const target = document.getElementById(sectionId);
        target.classList.remove('hidden');
        
        // Animation reset
        target.classList.remove('animate-fade-in');
        void target.offsetWidth; // Trigger reflow
        target.classList.add('animate-fade-in');

        // Init Charts if first view
        if (!state.chartsInitialized) {
            initCharts();
            state.chartsInitialized = true;
        }
    }

    // --- Mobile Menu ---
    const menuBtn = document.getElementById('menu-btn');
    const navLinks = document.getElementById('nav-links');
    
    menuBtn.addEventListener('click', () => {
        navLinks.classList.toggle('hidden');
        navLinks.classList.toggle('flex');
    });

    // --- Chart Initialization (Chart.js) ---
    function initCharts() {
        Chart.defaults.color = '#94a3b8';
        Chart.defaults.font.family = 'Inter';

        // 1. Semiosphere Doughnut Chart
        const ctxSemio = document.getElementById('semiosphereChart').getContext('2d');
        new Chart(ctxSemio, {
            type: 'doughnut',
            data: {
                labels: ['Umwelt (Bio-Logic)', 'Sociosphere (Culture)', 'Semiosphere (Universal)'],
                datasets: [{
                    data: [40, 35, 25],
                    backgroundColor: ['#22d3ee', '#a855f7', '#f59e0b'],
                    borderWidth: 0,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '60%',
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const labels = [
                                    "Primary Modeling: Sensation/Instinct",
                                    "Secondary Modeling: Language/Norms",
                                    "Tertiary Modeling: Formalisms/Physics"
                                ];
                                return labels[context.dataIndex];
                            }
                        }
                    }
                }
            }
        });

        // 2. CIB / Assembly Index Chart
        const ctxCib = document.getElementById('cibChart').getContext('2d');
        new Chart(ctxCib, {
            type: 'bar',
            data: {
                labels: ['Water', 'Amino Acids', 'Peptides', 'Proteins', 'Technosignatures'],
                datasets: [{
                    label: 'Molecular Assembly Index (Steps)',
                    data: [1, 5, 12, 25, 45],
                    backgroundColor: (ctx) => {
                        const val = ctx.raw;
                        return val > 15 ? '#f59e0b' : '#334155';
                    },
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: '#1e293b' },
                        title: { display: true, text: 'Assembly Steps' }
                    },
                    x: { grid: { display: false } }
                },
                plugins: {
                    annotation: {
                        annotations: {
                            line1: {
                                type: 'line',
                                yMin: 15,
                                yMax: 15,
                                borderColor: '#ef4444',
                                borderWidth: 2,
                                borderDash: [6, 6],
                                label: {
                                    content: 'Agency Threshold',
                                    enabled: true,
                                    position: 'end'
                                }
                            }
                        }
                    }
                }
            }
        });

        // 3. Thermodynamics / Sapolsky Limit Chart
        const ctxEntropy = document.getElementById('entropyChart').getContext('2d');
        new Chart(ctxEntropy, {
            type: 'line',
            data: {
                labels: ['Low Stress', 'Moderate', 'High Stress', 'Survival Mode'],
                datasets: [
                    {
                        label: 'Available Logical Depth (Morality)',
                        data: [90, 75, 40, 10],
                        borderColor: '#22d3ee',
                        backgroundColor: 'rgba(34, 211, 238, 0.1)',
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'Agential Entropy (Chaos)',
                        data: [10, 25, 60, 95],
                        borderColor: '#ef4444',
                        borderDash: [5, 5],
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { grid: { color: '#1e293b' } },
                    x: { grid: { display: false } }
                }
            }
        });
    }

    // --- Interactive Elements Logic ---

    // 1. Ladder Interaction
    function highlightStep(step) {
        const detailBox = document.getElementById('ladder-detail');
        const descriptions = {
            1: "<strong class='text-cyan-400'>Alpha-Mode (Primary):</strong> The organism is 'read-only'. It reacts to physical stimuli (heat, light) but does not interpret them as signs. Pure thermodynamics.",
            2: "<strong class='text-purple-400'>Beta-Mode (Secondary):</strong> The emergence of the 'Sign'. The footprint means 'Predator'. The map is created. This is the 'Umwelt'.",
            3: "<strong class='text-yellow-400'>Tertiary-Mode (Tertiary):</strong> The 'Meta-Constructor'. Humans use formal symbols (Math, Text) to model worlds that don't exist yet, then build them. Downward Causation."
        };
        detailBox.innerHTML = descriptions[step];
    }

    // 2. Meta-Constructor Simulation
    const input = document.getElementById('formalismInput');
    const visual = document.getElementById('manifold-visual');
    const core = document.getElementById('core-structure');
    const particles = document.getElementById('chaos-particles');
    const readout = document.getElementById('simulation-readout');

    input.addEventListener('input', (e) => {
        const val = e.target.value;
        
        // Visual feedback
        // Low value = Chaos (Blurry, Red, Scattered)
        // High value = Order (Sharp, Cyan, Geometric)
        
        const blur = 10 - (val / 10);
        const scale = 0.5 + (val / 100);
        const hue = val * 2; // 0 to 200 (Red to Cyanish)
        
        // Update CSS
        core.style.filter = `blur(${blur}px)`;
        core.style.transform = `scale(${scale})`;
        
        // "Chaos Particles" simulation via CSS patterns
        if (val < 30) {
            visual.style.borderColor = '#ef4444';
            core.style.backgroundColor = '#ef4444';
            core.style.borderRadius = '50%'; // Amorphous
            readout.innerHTML = "State: High Entropy (Reactive)";
            readout.className = "mt-4 text-center font-mono text-red-500 text-sm";
        } else if (val > 70) {
            visual.style.borderColor = '#22d3ee';
            core.style.backgroundColor = '#22d3ee';
            core.style.borderRadius = '0%'; // Square/Geometric
            readout.innerHTML = "State: High Coherence (Constructive)";
            readout.className = "mt-4 text-center font-mono text-cyan-400 text-sm";
        } else {
            visual.style.borderColor = '#f59e0b';
            core.style.backgroundColor = '#f59e0b';
            core.style.borderRadius = '25%';
            readout.innerHTML = "State: Transitioning";
            readout.className = "mt-4 text-center font-mono text-yellow-500 text-sm";
        }
    });

    // Initialize dashboard charts on load (hidden but ready)
    // Note: Chart.js needs visible canvas to render sizes correctly, so we init on first nav or use ResizeObserver. 
    // Logic handled in navigate() for simplicity.

</script>
</body> </html>
